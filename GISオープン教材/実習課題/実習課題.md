#実習課題について

**Menu**
--------
* [第一回課題（20160929）](#第一回課題（20160929）)
* [第二回課題（20161006）](#第二回課題（20161006）)
* [第三回課題（20161006）](#第三回課題（20161013）)


>実習時の注意点やメモを[作業メモ](https://github.com/yamauchi-inochu/demo/blob/master/GISオープン教材/実習課題/作業メモ.md)をご参照ください。

## <a name = "第一回課題（20160929）"></a>第一回課題（20160929）

### 本日の課題
無償で利用出来るデータを活用し、以下の課題1と2に該当する地図を作成しなさい。
提出する地図は、凡例、方位、縮尺バー、タイトル（学籍番号、氏名、地図名）をレイアウトしたものとします。本課題と対応する教材は、[QGISビギナーズマニュアル]および[GRASSビギナーズマニュアル]の教材となります。

**課題１**  
QGISとプラグインを用いて、任意の地域の地図を作成しなさい。なお、使用するタイル（背景地図）は基本測量成果に該当しないものとする。
（必要な場合は、サンプルデータ[fkuchiyama_sample.zip](https://github.com/yamauchi-inochu/demo/blob/master/GISオープン教材/実習課題/sample/fkuchiyama_sample.zip?raw=true)を使用すること）

**完成例**  

![完成例](pic/Q1.png)

**手順**  

① サンプルデータを読み込む  
② タイルレイヤープラグインかOpenLayersPluginを用いて背景地図を読み込む  
③ 地図をレイアウトする   

#### 学習ポイント：空間データの特徴とGISソフトウェアの活用

* ベクトルデータとラスターデータの違い
* QGISとプラグインについての理解
* 属性テーブルとプロパティについての理解
* 地図のレイアウト

※　提出時に図のタイトル、名前、学籍番号を記載すること（方法：プリントコンポーザーから、新規ラベルの追加 > アイテムプロパティ > メインプロパティ（タイトル等の入力） > 外観,フォント（文字のサイズ調整））

------

**課題2**  
GRASS GISを用いて、高松市の地形(標高)概観図を作成しなさい。  
※20160929の実習では、課題2は提出しなくてよい

**手順**  

① QGISを用いてマップセットを作成する  
② GRASS GISでマップセットを読み込む  
③ カラーを調整し、地図をレイアウトする  

![完成例](pic/G1.png)

#### 学習ポイント：GRASS GISの操作

* マップセットが作成できたか

[△メニューへもどる]
-------------
## <a name = "第二回課題（20161006）"></a>第二回課題（20161006）

### 本日の課題
無償で利用出来るデータを活用し、以下の1〜3に該当する地図を作成しなさい。
提出する地図は、凡例、方位、縮尺バー、タイトル（学籍番号、氏名、地図名）をレイアウトしたものとします。
課題提出は、課題フォームより行うこととする。本課題と対応する教材は、[既存データの地図データと属性データ]および[空間データ]の教材となります。


**課題１:旧測地系と新測地系**  
[政府統計局e-stat]（平成２２年国勢調査（小地域））を利用し、日本測地系平面直角座標系・Shape形式と世界測地系平面直角座標系・Shape形式のデータを用いて、両データが重なり合わない地図を作成しなさい。
※　最新の測地系はJGD2011であるが、QGIS2.8.4ではJGD2011の変換ができないため、本実習ではJGD2000を新測地系としている（2.14は、JGD2011に対応）。

**完成例**  
![完成例](pic/8-1.png)

**手順**  
①　e-statから任意の地域の異なるshapeファイル（投影座標系のもの）をダウンロードする  
②　QGISでデータを表示する（デフォルトではずれて表示されないため、右下のボタンから、オンザフライ投影のチェックをはずす）  
③　QGISビギナーズマニュアルを参考に、地図をレイアウトする  
④　レイアウト後に旧測地系データを新測地系に変換する（地図データが重なればOK）  
⑤　QGISの作業ファイル（.qgs）に任意の名前をつけ保存し、画面を閉じる

#### 学習ポイント：測地系
GISでは、データ分析をする前にデータの測地系を整える必要があります。この作業を行わないと位置のズレが生じ、データの処理が行えない場合があります。異なった測地系のデータを扱う場合は、以下の項目への理解が必要となります（わからない単語はインターネットで調べてください）。

* 地理座標系と投影座標系の違い
* 平面直角座標系第◯系の意味
* 旧測地系と新測地系の違い
* 座標系の変換手法

-------
**課題2：ジオリファレンス**  
鯖江市のオープンデータより古地図007と基盤地図情報2500基本項目鯖江市道路をダウンロードし、それをもとにGCPを取得し、画像の位置あわせを行った地図を作成しなさい（なお、基盤地図情報の取得変換ができない場合は、地理院タイル等を利用すること）。

**完成例**  
![完成例](pic/8-2.png)

**手順**  
① [鯖江市のオープンデータ](http://www.city.sabae.fukui.jp/pageview.html?id=12768)より古地図007をダウンロードする。  
② [sabae_sample](https://github.com/yamauchi-inochu/demo/blob/master/GISオープン教材/実習課題/sample/sabae_sample.zip?raw=true)とタイルレイヤプラグインを用いて地理院タイル（標準地図など）を読み込んでおく（高い位置精度を求める場合は、基盤地図情報の道路縁等を用いることが望ましい。）  
④ 古地図を読み込みQGISのジオリファレンサーを起動する  
⑤ ジオリファレンサーの利用法を参考に、古地図007にGCP(Ground Control Point)を付加する(完全には一致しないため、おおまかでよい)  
⑥ QGISビギナーズマニュアルを参考に、地図をレイアウトする(古地図のプロパティを開き、画像を透過すると良い)  
⑦ QGISの作業ファイル（.qgs）に任意の名前をつけ保存し、画面を閉じる  

※本来は精度を求めるため、ベクトルデータを用いてジオリファレンスをすることが多い。しかし、本実習ではQGIS2.8がJGD2011に対応していないことから、基盤地図情報（道路縁など）のような高精度ベクトルデータを用いていない。

#### 学習ポイント：ジオリファレンス
* ジオリファレンスとは（どのようなときに必要な処理か？）

-------

**課題3：ジオコーディング**  
サンプルデータ[susono_emergency_shelter.csv](https://github.com/yamauchi-inochu/demo/blob/master/GISオープン教材/実習課題/sample/susono_sample.zip?raw=true)の住所を用いて、ジオコーディング（アドレスマッチング)を行い地図を作成しなさい。

**完成例**  
![完成例](pic/8-3.png)

**手順**  
① CSVアドレスマッチングサービスを用いて、サンプルデータに位置情報（X、Y）を付加する。  
② CSVデータを読み込みshapeファイルに変換する。  
③ 変換したShapeファイルの座標系を平面直角座標第８系に変換する  
④ QGISビギナーズマニュアルを参考に、地図をレイアウトする(古地図のプロパティを開き、画像を透過すると良い)  
⑤ QGISの作業ファイル（.qgs）に任意の名前をつけ保存し、画面を閉じる


#### 学習ポイント：ジオコーディング
* ジオコーディングとは（どのような時に必要な処理か？）

[△メニューへもどる]

-------

## <a name="第三回課題（20161013）"></a>第三回課題（20161013）

### 本日の課題
無償で利用出来るデータを活用し、以下の課題1〜3に該当する地図を作成しなさい。
提出する地図は、凡例、方位、縮尺バー、タイトル（学籍番号、氏名、地図名）をレイアウトしたものとします。
課題提出は、課題フォームより行うこととする。本課題と対応する教材は、[視覚的伝達]および[空間データの結合・修正]の教材となります。

**課題１:カルトグラムの作成**
[政府統計局e-stat]から国勢調査（小地域）のデータ（市区町村の町丁目人口）を用いてカルトグラムを作成してください。作成した画像をアップロードし、自身が行った色分けの手法（値の分類）について説明してください。

**完成例**  
![]()

**手順**  
①[政府統計局e-stat]のページから、「平成22年国勢調査（小地域）」を選択し（統計表は任意で指定する）、市区町村の境界データ（世界測地系平面直角座標系・Shape形式）をダウンロードする（池の多い地域が望ましい：例　奈良市、大和郡山市など）。    
②QGISでレイヤをデータを読み込み、画面左側に表示されるレイヤの一覧から対象のデータの上で右クリックし属性テーブルを開く。属性テーブルにJINKOの項目があるかを確認する。  
③QGISの「プラグインの管理とインストール」から「Cartogram」プラグインをインストールする。
④Cartogramプラグインを起動し、JINKOの値を用いてカルトグラムを作成する
⑤レイヤのプロパティを開き値を色分けする（色分けは任意で行う）
⑥地図をレイアウトし、画像をアップロードする


**課題２:ベクトルデータの加工と地図作成**  
地理院タイルを用いて課題1の一部範囲の地図を作成する。新規にベクトルデータを作成し、以下のような地図を作成してください。

**完成例**  
![]()

**手順**  
  
①課題1で使用した元データを読み込む
②タイルレイヤプラグインを用いて背景地図を表示する
③ポイントの作成：背景地図（地理院タイルの標準地図等）を利用し5点以上のポイントを作成する
④ラインの作成：代表的な道路または河川の中心線を作成する
⑤ポリゴンの作成：池または、建物からポリゴンを作成する
⑥各レイヤごとに色分けやラベル表示を行う
⑥地図をレイアウトし、課題フォームの質問に回答する

--------
#### 完成例で使用したデータ
本ページで使用しているデータの出典については、該当する教材よりご確認ください。

[△メニューへもどる]:実習課題.md#menu
[QGISビギナーズマニュアル]:../QGISビギナーズマニュアル/QGISビギナーズマニュアル.md
[GRASSビギナーズマニュアル]:../GRASSビギナーズマニュアル/GRASSビギナーズマニュアル.md
[既存データの地図データと属性データ]:../07_既存データの地図データと属性データ/既存データの地図データと属性データ.md
[空間データ]:../08_空間データ/空間データ.md
[空間データの結合・修正]:../10_空間データの統合・修正/空間データの統合・修正.md
[視覚的伝達]:../21_視覚的伝達/視覚的伝達.md
[政府統計局e-stat]:https://www.e-stat.go.jp/SG1/estat/eStatTopPortal.do
